# ============================================================================
# Customer Ticket Resolution Bot - Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
APP_NAME="AI Customer Ticket Resolution Bot"
APP_VERSION="2.0.0"
ENVIRONMENT="development"  # Options: development, staging, production

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
HOST="0.0.0.0"
PORT=8000
DEBUG=false
RELOAD=false  # Set to true for development auto-reload

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DATABASE_URL="sqlite:///./tickets.db"
# For PostgreSQL: postgresql://user:password@localhost:5432/tickets_db
# For MySQL: mysql://user:password@localhost:3306/tickets_db

DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10
DATABASE_ECHO=false  # Set to true to log SQL queries

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
LOG_LEVEL="INFO"  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE="bot.log"
LOG_ROTATION="10 MB"
LOG_RETENTION="30 days"

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
SECRET_KEY="change-this-to-a-random-secret-key-in-production"
# Generate a secure key: python -c "import secrets; print(secrets.token_urlsafe(32))"

# CORS Configuration (comma-separated list)
ALLOWED_ORIGINS="*"
# For production: ALLOWED_ORIGINS="https://yourdomain.com,https://app.yourdomain.com"

# ============================================================================
# FRESHDESK CONFIGURATION
# ============================================================================
# Your Freshdesk domain (without .freshdesk.com)
FRESHDESK_DOMAIN="your-company"

# Freshdesk API Key (found in Profile Settings > API Key)
FRESHDESK_API_KEY="your_api_key_here"

# Webhook Secret (set this when creating webhook in Freshdesk)
FRESHDESK_WEBHOOK_SECRET="your_webhook_secret_here"

# API Configuration
FRESHDESK_API_VERSION="v2"
FRESHDESK_TIMEOUT=30
FRESHDESK_MAX_RETRIES=3
FRESHDESK_RETRY_DELAY=1.0

# Rate Limiting
FRESHDESK_RATE_LIMIT_ENABLED=true
FRESHDESK_RATE_LIMIT_CALLS=100
FRESHDESK_RATE_LIMIT_PERIOD=60

# Connection Pooling
FRESHDESK_POOL_CONNECTIONS=10
FRESHDESK_POOL_MAXSIZE=20

# Circuit Breaker
FRESHDESK_CIRCUIT_BREAKER_ENABLED=true
FRESHDESK_CIRCUIT_BREAKER_THRESHOLD=5
FRESHDESK_CIRCUIT_BREAKER_TIMEOUT=60

# ============================================================================
# AI CONFIGURATION
# ============================================================================
# Model Selection
AI_EMBEDDING_MODEL="sentence-transformers/all-MiniLM-L6-v2"
AI_CLASSIFICATION_MODEL="facebook/bart-large-mnli"
AI_MAX_SEQUENCE_LENGTH=512

# Device Configuration
AI_DEVICE="auto"  # Options: auto, cpu, cuda, mps
AI_USE_GPU=true

# Processing Configuration
AI_BATCH_SIZE=8
AI_CONFIDENCE_THRESHOLD=0.7

# RAG Configuration
AI_RAG_TOP_K=3
AI_RAG_SIMILARITY_THRESHOLD=0.6
AI_KNOWLEDGE_BASE_PATH="docs"
AI_VECTOR_DB_PATH="faiss_index"

# Caching
AI_CACHE_EMBEDDINGS=true
AI_CACHE_CLASSIFICATIONS=true
AI_EMBEDDING_CACHE_TTL=86400  # 24 hours in seconds

# Fallback
AI_ENABLE_FALLBACK=true

# ============================================================================
# CLASSIFICATION CONFIGURATION
# ============================================================================
# Confidence Thresholds
CLASSIFICATION_TIER_1_CONFIDENCE_THRESHOLD=0.8
CLASSIFICATION_TIER_2_CONFIDENCE_THRESHOLD=0.7

# Keywords (comma-separated)
CLASSIFICATION_TIER_1_KEYWORDS="password reset,forgot password,login issue,account access,basic setup"
CLASSIFICATION_TIER_2_KEYWORDS="billing,payment,subscription,upgrade,downgrade,feature request"
CLASSIFICATION_COMPLEX_KEYWORDS="critical,urgent,emergency,system down,data loss,security"

# ============================================================================
# PERFORMANCE CONFIGURATION
# ============================================================================
ENABLE_CACHING=true
CACHE_TTL=3600  # 1 hour in seconds
MAX_WORKERS=4

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_AUTO_RESOLUTION=true
ENABLE_ESCALATION=true
ENABLE_ANALYTICS=true

# ============================================================================
# OPTIONAL: REDIS CONFIGURATION (for production caching)
# ============================================================================
# REDIS_HOST="localhost"
# REDIS_PORT=6379
# REDIS_DB=0
# REDIS_PASSWORD=""
# REDIS_SSL=false

# ============================================================================
# OPTIONAL: MONITORING & OBSERVABILITY
# ============================================================================
# SENTRY_DSN=""  # For error tracking
# PROMETHEUS_ENABLED=false
# PROMETHEUS_PORT=9090

# ============================================================================
# NOTES
# ============================================================================
# 1. Always use strong, unique values for SECRET_KEY and WEBHOOK_SECRET
# 2. Never commit .env file to version control
# 3. Use different values for development, staging, and production
# 4. Rotate secrets regularly in production
# 5. Use environment-specific configuration files for complex deployments
